# Rule and game modifications

We have implemented the core game to be as close as possible to the original rules.
One rule is a little bit strange. The rule says that _If multiple triggered effects require a target, the same card may not be selected twice in the same link._[@effects_wiki]. This rule is clear for one player, but how should it work for two or more players targeting simultaneously? It is practically impossible to obey this rule because targeting must be independent and simultaneous. We implemented this rule in a way that the same card could be selected at most once in the same link but is not independent (if the first effect targets card A, then the second effect knows that card A is already targeted). We must implement this rule in some way because, without it, we must solve which effect is performed and which is not.
For instance, when the same card is targeted by the steal effect and by the destroy effect, which effect should "win"? Additionally, the rule says that the effects are resolved simultaneously.

The solution is the effects are not resolved independently. The effects are resolved in the order when they are added to the chain link. But it still mimics that effects are simultaneously resolved. All effects see the same state, and they are independent except for the targeting.

This rule has a continuation:
_If there are not enough cards to target, you may only trigger as many effects as you have options for targets. You must select targets for mandatory effects before selecting targets for optional effects._[@effects_wiki].
The rule is not implemented at all. In the implementation, we do not distinguish between mandatory and optional effects during the resolution of the chain link. However, we still check a card's requirements when a player plays the card. For instance, if a player plays a spell card with the discard effect, they must hold at least one other card in their hand. In the implementation, I do not trigger as many effects as a player has options for targets because all triggered effects are added to the chain link. As we discussed in the previous paragraph, the effects are resolved in the order in which they are added to the chain link.

Then we do not implement one card. The card is "Nanny cam" with effect _Your hand must be visible to all player at all times._ This card was not implemented because no agent can use this effect. However, the simulator tracks this knowledge for every player because it is necessary information for copying the state. The copy function only copies the visible part of the state for a player. If a player does not know the given card in the player's hand, then this card is exchanged for some other card.
